parser-snapshots:

  - name: recovery_stmts_0
    input: |-
      SELEC 1;
                  SELECT 1;
    expected:
      statements:
        - type: SELECT
          ast-begin: 0
          ast-size: 4
          ast:
            type: OBJECT_SQL_SELECT
            text: "SELECT 1"
            children:
              - key: SQL_SELECT_TARGETS
                type: ARRAY
                text: "1"
                children:
                  - type: OBJECT_SQL_RESULT_TARGET
                    text: "1"
                    children:
                      - key: SQL_RESULT_TARGET_VALUE
                        type: LITERAL_INTEGER
                        text: "1"
      scanner-errors: []
      parser-errors:
        - message: 'syntax error, unexpected identifier literal'
          text: "SELEC"
      line-breaks:
        - text: [8,9]
      comments: []

  - name: recovery_expr_0
    input: |-
      SELECT * FROM A WHERE x + (something invalid)
    expected:
      statements:
        - type: SELECT
          ast-begin: 0
          ast-size: 14
          ast:
            type: OBJECT_SQL_SELECT
            text: "SELECT * F..g invalid)"
            children:
              - key: SQL_SELECT_TARGETS
                type: ARRAY
                text: "*"
                children:
                  - type: OBJECT_SQL_RESULT_TARGET
                    text: "*"
                    children:
                      - key: SQL_RESULT_TARGET_STAR
                        type: BOOL
                        value: 1
              - key: SQL_SELECT_FROM
                type: ARRAY
                text: "FROM A"
                children:
                  - type: OBJECT_SQL_TABLEREF
                    text: "A"
                    children:
                      - key: SQL_TABLEREF_NAME
                        type: ARRAY
                        text: "A"
                        children:
                          - type: NAME
                            text: "A"
              - key: SQL_SELECT_WHERE
                type: OBJECT_SQL_NARY_EXPRESSION
                text: "x + (somet..g invalid)"
                children:
                  - key: SQL_EXPRESSION_OPERATOR
                    type: ENUM_SQL_EXPRESSION_OPERATOR
                    value: PLUS
                  - key: SQL_EXPRESSION_ARGS
                    type: ARRAY
                    text: "x + (somet..g invalid)"
                    children:
                      - type: OBJECT_SQL_COLUMN_REF
                        text: "x"
                        children:
                          - key: SQL_COLUMN_REF_PATH
                            type: ARRAY
                            text: "x"
                            children:
                              - type: NAME
                                text: "x"
      scanner-errors: []
      parser-errors:
        - message: 'syntax error, unexpected identifier literal'
          text: "invalid"
      line-breaks: []
      comments: []

  - name: recovery_interactive_2
    input: |-
      SELECT a FROM
    expected:
      statements:
        - type: SELECT
          ast-begin: 0
          ast-size: 6
          ast:
            type: OBJECT_SQL_SELECT
            text: "SELECT a FROM"
            children:
              - key: SQL_SELECT_TARGETS
                type: ARRAY
                text: "a"
                children:
                  - type: OBJECT_SQL_RESULT_TARGET
                    text: "a"
                    children:
                      - key: SQL_RESULT_TARGET_VALUE
                        type: OBJECT_SQL_COLUMN_REF
                        text: "a"
                        children:
                          - key: SQL_COLUMN_REF_PATH
                            type: ARRAY
                            text: "a"
                            children:
                              - type: NAME
                                text: "a"
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: recovery_interactive_3
    input: |-
      SELECT a FRO
    expected:
      statements:
        - type: SELECT
          ast-begin: 0
          ast-size: 7
          ast:
            type: OBJECT_SQL_SELECT
            text: "SELECT a FRO"
            children:
              - key: SQL_SELECT_TARGETS
                type: ARRAY
                text: "a FRO"
                children:
                  - type: OBJECT_SQL_RESULT_TARGET
                    text: "a FRO"
                    children:
                      - key: SQL_RESULT_TARGET_VALUE
                        type: OBJECT_SQL_COLUMN_REF
                        text: "a"
                        children:
                          - key: SQL_COLUMN_REF_PATH
                            type: ARRAY
                            text: "a"
                            children:
                              - type: NAME
                                text: "a"
                      - key: SQL_RESULT_TARGET_NAME
                        type: NAME
                        text: "FRO"
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: recovery_interactive_4
    input: |-
      SELECT  FROM A
    expected:
      statements:
        - type: SELECT
          ast-begin: 0
          ast-size: 5
          ast:
            type: OBJECT_SQL_SELECT
            text: "SELECT  FROM A"
            children:
              - key: SQL_SELECT_FROM
                type: ARRAY
                text: "FROM A"
                children:
                  - type: OBJECT_SQL_TABLEREF
                    text: "A"
                    children:
                      - key: SQL_TABLEREF_NAME
                        type: ARRAY
                        text: "A"
                        children:
                          - type: NAME
                            text: "A"
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: recovery_interactive_5
    input: |-
      SELECT * FROM A WHER
    expected:
      statements:
        - type: SELECT
          ast-begin: 0
          ast-size: 9
          ast:
            type: OBJECT_SQL_SELECT
            text: "SELECT * F..ROM A WHER"
            children:
              - key: SQL_SELECT_TARGETS
                type: ARRAY
                text: "*"
                children:
                  - type: OBJECT_SQL_RESULT_TARGET
                    text: "*"
                    children:
                      - key: SQL_RESULT_TARGET_STAR
                        type: BOOL
                        value: 1
              - key: SQL_SELECT_FROM
                type: ARRAY
                text: "FROM A WHER"
                children:
                  - type: OBJECT_SQL_TABLEREF
                    text: "A WHER"
                    children:
                      - key: SQL_TABLEREF_NAME
                        type: ARRAY
                        text: "A"
                        children:
                          - type: NAME
                            text: "A"
                      - key: SQL_TABLEREF_ALIAS
                        type: NAME
                        text: "WHER"
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: recovery_interactive_6
    input: |-
      SELECT * FROM A WHERE
    expected:
      statements:
        - type: SELECT
          ast-begin: 0
          ast-size: 8
          ast:
            type: OBJECT_SQL_SELECT
            text: "SELECT * F..OM A WHERE"
            children:
              - key: SQL_SELECT_TARGETS
                type: ARRAY
                text: "*"
                children:
                  - type: OBJECT_SQL_RESULT_TARGET
                    text: "*"
                    children:
                      - key: SQL_RESULT_TARGET_STAR
                        type: BOOL
                        value: 1
              - key: SQL_SELECT_FROM
                type: ARRAY
                text: "FROM A"
                children:
                  - type: OBJECT_SQL_TABLEREF
                    text: "A"
                    children:
                      - key: SQL_TABLEREF_NAME
                        type: ARRAY
                        text: "A"
                        children:
                          - type: NAME
                            text: "A"
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []
