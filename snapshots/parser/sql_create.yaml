parser-snapshots:

  - name: create_table_as_select_1
    input: |-
      create table foo as select 1
    expected:
      statements:
        - type: CREATE_TABLE_AS
          ast-begin: 0
          ast-size: 7
          ast:
            type: OBJECT_SQL_CREATE_AS
            text: "create tab..s select 1"
            children:
              - key: SQL_CREATE_AS_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_AS_STATEMENT
                type: OBJECT_SQL_SELECT
                text: "select 1"
                children:
                  - key: SQL_SELECT_TARGETS
                    type: ARRAY
                    text: "1"
                    children:
                      - type: OBJECT_SQL_RESULT_TARGET
                        text: "1"
                        children:
                          - key: SQL_RESULT_TARGET_VALUE
                            type: LITERAL_INTEGER
                            text: "1"
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: create_table_1
    input: |-
      create table foo (a integer)
    expected:
      statements:
        - type: CREATE_TABLE
          ast-begin: 0
          ast-size: 8
          ast:
            type: OBJECT_SQL_CREATE
            text: "create tab..a integer)"
            children:
              - key: SQL_CREATE_TABLE_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_TABLE_ELEMENTS
                type: ARRAY
                text: "(a integer)"
                children:
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "a integer"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "a"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "integer"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: ENUM_SQL_NUMERIC_TYPE
                            value: INT4
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: create_table_2
    input: |-
      create table foo (a integer, b tinyint)
    expected:
      statements:
        - type: CREATE_TABLE
          ast-begin: 0
          ast-size: 13
          ast:
            type: OBJECT_SQL_CREATE
            text: "create tab..b tinyint)"
            children:
              - key: SQL_CREATE_TABLE_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_TABLE_ELEMENTS
                type: ARRAY
                text: "(a integer..b tinyint)"
                children:
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "a integer"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "a"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "integer"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: ENUM_SQL_NUMERIC_TYPE
                            value: INT4
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "b tinyint"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "b"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "tinyint"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: OBJECT_SQL_GENERIC_TYPE
                            text: "tinyint"
                            children:
                              - key: SQL_GENERIC_TYPE_NAME
                                type: NAME
                                text: "tinyint"
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: create_table_3
    input: |-
      create table foo (a integer, b varchar)
    expected:
      statements:
        - type: CREATE_TABLE
          ast-begin: 0
          ast-size: 13
          ast:
            type: OBJECT_SQL_CREATE
            text: "create tab..b varchar)"
            children:
              - key: SQL_CREATE_TABLE_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_TABLE_ELEMENTS
                type: ARRAY
                text: "(a integer..b varchar)"
                children:
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "a integer"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "a"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "integer"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: ENUM_SQL_NUMERIC_TYPE
                            value: INT4
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "b varchar"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "b"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "varchar"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: OBJECT_SQL_CHARACTER_TYPE
                            text: "varchar"
                            children:
                              - key: SQL_CHARACTER_TYPE
                                type: ENUM_SQL_CHARACTER_TYPE
                                value: VARCHAR
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: create_table_4
    input: |-
      create table if not exists foo (a integer, b varchar)
    expected:
      statements:
        - type: CREATE_TABLE
          ast-begin: 0
          ast-size: 14
          ast:
            type: OBJECT_SQL_CREATE
            text: "create tab..b varchar)"
            children:
              - key: SQL_CREATE_TABLE_IF_NOT_EXISTS
                type: BOOL
                value: 1
              - key: SQL_CREATE_TABLE_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_TABLE_ELEMENTS
                type: ARRAY
                text: "(a integer..b varchar)"
                children:
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "a integer"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "a"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "integer"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: ENUM_SQL_NUMERIC_TYPE
                            value: INT4
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "b varchar"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "b"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "varchar"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: OBJECT_SQL_CHARACTER_TYPE
                            text: "varchar"
                            children:
                              - key: SQL_CHARACTER_TYPE
                                type: ENUM_SQL_CHARACTER_TYPE
                                value: VARCHAR
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: create_table_5
    input: |-
      create table foo (a integer, b varchar)
    expected:
      statements:
        - type: CREATE_TABLE
          ast-begin: 0
          ast-size: 13
          ast:
            type: OBJECT_SQL_CREATE
            text: "create tab..b varchar)"
            children:
              - key: SQL_CREATE_TABLE_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_TABLE_ELEMENTS
                type: ARRAY
                text: "(a integer..b varchar)"
                children:
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "a integer"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "a"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "integer"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: ENUM_SQL_NUMERIC_TYPE
                            value: INT4
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "b varchar"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "b"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "varchar"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: OBJECT_SQL_CHARACTER_TYPE
                            text: "varchar"
                            children:
                              - key: SQL_CHARACTER_TYPE
                                type: ENUM_SQL_CHARACTER_TYPE
                                value: VARCHAR
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: create_table_6
    input: |-
      create table foo (a integer deferrable)
    expected:
      statements:
        - type: CREATE_TABLE
          ast-begin: 0
          ast-size: 10
          ast:
            type: OBJECT_SQL_CREATE
            text: "create tab..eferrable)"
            children:
              - key: SQL_CREATE_TABLE_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_TABLE_ELEMENTS
                type: ARRAY
                text: "(a integer..eferrable)"
                children:
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "a integer ..deferrable"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "a"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "integer"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: ENUM_SQL_NUMERIC_TYPE
                            value: INT4
                      - key: SQL_COLUMN_DEF_CONSTRAINTS
                        type: ARRAY
                        text: " deferrable"
                        children:
                          - type: ENUM_SQL_CONSTRAINT_ATTRIBUTE
                            value: DEFERRABLE
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: create_table_7
    input: |-
      create table foo (a integer collate "de_DE")
    expected:
      statements:
        - type: CREATE_TABLE
          ast-begin: 0
          ast-size: 13
          ast:
            type: OBJECT_SQL_CREATE
            text: "create tab..e \"de_DE\")"
            children:
              - key: SQL_CREATE_TABLE_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_TABLE_ELEMENTS
                type: ARRAY
                text: "(a integer..e \"de_DE\")"
                children:
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "a integer ..te \"de_DE\""
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "a"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "integer"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: ENUM_SQL_NUMERIC_TYPE
                            value: INT4
                      - key: SQL_COLUMN_DEF_CONSTRAINTS
                        type: ARRAY
                        text: " collate \"de_DE\""
                        children:
                          - type: OBJECT_SQL_COLUMN_CONSTRAINT
                            text: "collate \"de_DE\""
                            children:
                              - key: SQL_COLUMN_CONSTRAINT_TYPE
                                type: ENUM_SQL_COLUMN_CONSTRAINT
                                value: COLLATE
                              - key: SQL_COLUMN_CONSTRAINT_COLLATE
                                type: ARRAY
                                text: "\"de_DE\""
                                children:
                                  - type: NAME
                                    text: "\"de_DE\""
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: create_table_8
    input: |-
      create temporary table foo (a integer)
    expected:
      statements:
        - type: CREATE_TABLE
          ast-begin: 0
          ast-size: 9
          ast:
            type: OBJECT_SQL_CREATE
            text: "create tem..a integer)"
            children:
              - key: SQL_CREATE_TABLE_TEMP
                type: ENUM_SQL_TEMP_TYPE
                value: LOCAL
              - key: SQL_CREATE_TABLE_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_TABLE_ELEMENTS
                type: ARRAY
                text: "(a integer)"
                children:
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "a integer"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "a"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "integer"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: ENUM_SQL_NUMERIC_TYPE
                            value: INT4
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: create_table_9
    input: |-
      create table foo (a integer options (ident 'thing2'))
    expected:
      statements:
        - type: CREATE_TABLE
          ast-begin: 0
          ast-size: 12
          ast:
            type: OBJECT_SQL_CREATE
            text: "create tab..'thing2'))"
            children:
              - key: SQL_CREATE_TABLE_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_TABLE_ELEMENTS
                type: ARRAY
                text: "(a integer..'thing2'))"
                children:
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "a integer .. 'thing2')"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "a"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "integer"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: ENUM_SQL_NUMERIC_TYPE
                            value: INT4
                      - key: SQL_COLUMN_DEF_OPTIONS
                        type: ARRAY
                        text: "options (i.. 'thing2')"
                        children:
                          - type: OBJECT_SQL_GENERIC_OPTION
                            text: "ident 'thing2'"
                            children:
                              - key: SQL_GENERIC_OPTION_KEY
                                type: NAME
                                text: "ident"
                              - key: SQL_GENERIC_OPTION_VALUE
                                type: LITERAL_STRING
                                text: "'thing2'"
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: create_table_10
    input: |-
      create table foo (a integer constraint a not null)
    expected:
      statements:
        - type: CREATE_TABLE
          ast-begin: 0
          ast-size: 12
          ast:
            type: OBJECT_SQL_CREATE
            text: "create tab.. not null)"
            children:
              - key: SQL_CREATE_TABLE_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_TABLE_ELEMENTS
                type: ARRAY
                text: "(a integer.. not null)"
                children:
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "a integer ..a not null"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "a"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "integer"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: ENUM_SQL_NUMERIC_TYPE
                            value: INT4
                      - key: SQL_COLUMN_DEF_CONSTRAINTS
                        type: ARRAY
                        text: " constrain..a not null"
                        children:
                          - type: OBJECT_SQL_COLUMN_CONSTRAINT
                            text: "constraint..a not null"
                            children:
                              - key: SQL_COLUMN_CONSTRAINT_TYPE
                                type: ENUM_SQL_COLUMN_CONSTRAINT
                                value: NOT_NULL
                              - key: SQL_COLUMN_CONSTRAINT_NAME
                                type: NAME
                                text: "a"
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: create_table_11
    input: |-
      create table foo (a integer primary key)
    expected:
      statements:
        - type: CREATE_TABLE
          ast-begin: 0
          ast-size: 11
          ast:
            type: OBJECT_SQL_CREATE
            text: "create tab..imary key)"
            children:
              - key: SQL_CREATE_TABLE_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_TABLE_ELEMENTS
                type: ARRAY
                text: "(a integer..imary key)"
                children:
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "a integer ..rimary key"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "a"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "integer"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: ENUM_SQL_NUMERIC_TYPE
                            value: INT4
                      - key: SQL_COLUMN_DEF_CONSTRAINTS
                        type: ARRAY
                        text: " primary key"
                        children:
                          - type: OBJECT_SQL_COLUMN_CONSTRAINT
                            text: "primary key"
                            children:
                              - key: SQL_COLUMN_CONSTRAINT_TYPE
                                type: ENUM_SQL_COLUMN_CONSTRAINT
                                value: PRIMARY_KEY
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []

  - name: create_table_12
    input: |-
      create table foo (a integer not null default 42)
    expected:
      statements:
        - type: CREATE_TABLE
          ast-begin: 0
          ast-size: 14
          ast:
            type: OBJECT_SQL_CREATE
            text: "create tab..efault 42)"
            children:
              - key: SQL_CREATE_TABLE_NAME
                type: ARRAY
                text: "foo"
                children:
                  - type: NAME
                    text: "foo"
              - key: SQL_CREATE_TABLE_ELEMENTS
                type: ARRAY
                text: "(a integer..efault 42)"
                children:
                  - type: OBJECT_SQL_COLUMN_DEF
                    text: "a integer ..default 42"
                    children:
                      - key: SQL_COLUMN_DEF_NAME
                        type: NAME
                        text: "a"
                      - key: SQL_COLUMN_DEF_TYPE
                        type: OBJECT_SQL_TYPENAME
                        text: "integer"
                        children:
                          - key: SQL_TYPENAME_TYPE
                            type: ENUM_SQL_NUMERIC_TYPE
                            value: INT4
                      - key: SQL_COLUMN_DEF_CONSTRAINTS
                        type: ARRAY
                        text: " not null ..default 42"
                        children:
                          - type: OBJECT_SQL_COLUMN_CONSTRAINT
                            text: "not null"
                            children:
                              - key: SQL_COLUMN_CONSTRAINT_TYPE
                                type: ENUM_SQL_COLUMN_CONSTRAINT
                                value: NOT_NULL
                          - type: OBJECT_SQL_COLUMN_CONSTRAINT
                            text: "default 42"
                            children:
                              - key: SQL_COLUMN_CONSTRAINT_TYPE
                                type: ENUM_SQL_COLUMN_CONSTRAINT
                                value: DEFAULT
                              - key: SQL_COLUMN_CONSTRAINT_VALUE
                                type: LITERAL_INTEGER
                                text: "42"
      scanner-errors: []
      parser-errors: []
      line-breaks: []
      comments: []
