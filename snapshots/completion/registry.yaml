completion-snapshots:

  - name: registry_filter_1
    catalog:
      script:
        input: |-
          create table TableA(attr1 int);
          create table TableB(attr2 int);
        catalog-id: 1
        tables:
          - catalog-id: "256.65536.4294967296"
            name: tablea
            text: "create tab..attr1 int)"
            columns:
              - catalog-id: "256.65536.4294967296.0"
                name: attr1
                text: "attr1 int"
          - catalog-id: "256.65536.4294967297"
            name: tableb
            text: "create tab..attr2 int)"
            columns:
              - catalog-id: "256.65536.4294967297.0"
                name: attr2
                text: "attr2 int"
        errors: []
    editor:
      input: select * from TableA where attr
      catalog-id: 0
      errors: []
      table-refs:
        - type: name/catalog
          catalog-id: "256.65536.4294967296"
          statement-id: 0
          text: "TableA"
      expressions:
        - expression-idx: 0
          type: colref/unresolved
          statement-id: 0
          text: "attr"
    cursor:
      search:
        text: ' attr'
        index: 5
    completions:
      limit: 3
      strategy: COLUMN_REF
      symbol: NAME
      relative: END_OF_SYMBOL
      entries:
        - score: 65
          value: attr1
          name-tags: [COLUMN_NAME]
          candidate-tags: [NAME_INDEX,PREFIX_MATCH,SUBSTRING_MATCH,THROUGH_CATALOG,IN_NAME_SCOPE]
          location: "attr"
          location-qualified: "attr"
          objects:
            - score: 45
              type: column
              id: "256.65536.4294967296.0"
              candidate-tags: [NAME_INDEX,PREFIX_MATCH,SUBSTRING_MATCH,THROUGH_CATALOG,IN_NAME_SCOPE]
              qualified: tablea.attr1
              qualified-idx: 1
              prefer-qualified: 0
        - score: 55
          value: attr2
          name-tags: [COLUMN_NAME]
          candidate-tags: [NAME_INDEX,PREFIX_MATCH,SUBSTRING_MATCH,THROUGH_CATALOG]
          location: "attr"
          location-qualified: "attr"
          objects:
            - score: 35
              type: column
              id: "256.65536.4294967297.0"
              candidate-tags: [NAME_INDEX,PREFIX_MATCH,SUBSTRING_MATCH,THROUGH_CATALOG]
              qualified: tableb.attr2
              qualified-idx: 1
              prefer-qualified: 0
        - score: 35
          value: attribute
          candidate-tags: [KEYWORD_DEFAULT,EXPECTED_PARSER_SYMBOL,PREFIX_MATCH,SUBSTRING_MATCH]
          location: "attr"
          location-qualified: "attr"
          objects: []
      text: "attr"
