<completion-snapshots>
    <!-- Empty editor, no catalog: no completions -->
    <completion-snapshot name="empty">
        <catalog />
        <editor />
        <cursor>
            <search text="" index="0" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- Complete database name after "from db" -->
    <completion-snapshot name="complete_database_name">
        <catalog>
            <script>
                <input>
                    create table dbname.schemaname.foo(a int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select * from db
            </input>
        </editor>
        <cursor>
            <search text="db" index="2" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- Complete schema name after "from sch" -->
    <completion-snapshot name="complete_schema_name">
        <catalog>
            <script>
                <input>
                    create table dbname.schemaname.foo(a int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select * from sch
            </input>
        </editor>
        <cursor>
            <search text="sch" index="3" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- Complete table name after "from fo" -->
    <completion-snapshot name="complete_table_name">
        <catalog>
            <script>
                <input>
                    create table foo(a int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select * from fo
            </input>
        </editor>
        <cursor>
            <search text="fo" index="2" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- No table completion immediately after "from (" -->
    <completion-snapshot name="dont_complete_at_lrb">
        <catalog>
            <script>
                <input>
                    create table foo(a int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select * from ( foo );
            </input>
        </editor>
        <cursor>
            <search text="from (" index="6" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- Complete table name when column attr2 suggests table2 -->
    <completion-snapshot name="table_name_resolving_column">
        <catalog>
            <script>
                <input>
create table table1(attr1 integer);
create table table2(attr2 integer);
create table table3(attr3 integer);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select attr2 from tab
            </input>
        </editor>
        <cursor>
            <search text="tab" index="3" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- Complete with external name remapping (cursor script=1) -->
    <completion-snapshot name="remap_external_names">
        <catalog>
            <script>
                <input>
                    create table external_name1(external_name2 int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select external_name2 from external_name1 where external_
            </input>
        </editor>
        <cursor script="1">
            <search text="where external_" index="14" />
        </cursor>
        <completions limit="5" />
    </completion-snapshot>
    <!-- Complete external name at EOF -->
    <completion-snapshot name="remap_external_names_eof">
        <catalog>
            <script>
                <input>
                    create table external_name1(external_name2 int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select external_name2 from external_name1 where external_
            </input>
        </editor>
        <cursor>
            <search text="where external_" index="15" />
        </cursor>
        <completions limit="5" />
    </completion-snapshot>
</completion-snapshots>
