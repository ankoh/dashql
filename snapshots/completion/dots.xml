<completion-snapshots>
    <completion-snapshot name="dots_qualified_table" what="complete a qualified table">
        <editor id="0">
            <input>
                create table dbname.schemaname.foo(a int);
                select * from dbname.schemaname.
            </input>
            <tables>
                <table id="256.65536.0" name="foo" loc="17..58" text="create tab..foo(a int)">
                    <column id="256.65536.0.0" name="a" loc="52..57" text="a int" />
                </table>
            </tables>
            <errors />
            <table-refs>
                <table-ref type="name/unresolved" stmt="1" loc="90..108" text="dbname.schemaname." />
            </table-refs>
        </editor>
        <cursor>
            <search text="from dbname.schemaname." index="23" />
        </cursor>
        <completions limit="3" strategy="TABLE_REF" dot="true" symbol="OBJECT_EXT_TRAILING_DOT" relative="END_OF_SYMBOL" loc="107..108" text=".">
            <entry score="22" value="foo" ntags="TABLE_NAME" ctags="DOT_RESOLUTION_TABLE" target_loc="108..108" target_text="" qualified_loc="90..108" qualified_text="dbname.schemaname.">
                <object score="2" type="table" id="256.65536.0" ctags="DOT_RESOLUTION_TABLE" qualified="dbname.schemaname.foo" qualified_idx="2" prefer_qualified="false" />
            </entry>
        </completions>
    </completion-snapshot>
    <completion-snapshot name="dots_column_0" what="complete an alias with qualified table">
        <editor id="0">
            <input>
                create table dbname.schemaname.foo(a int);
                select from dbname.schemaname.foo f where f.
            </input>
            <tables>
                <table id="256.65536.0" name="foo" loc="17..58" text="create tab..foo(a int)">
                    <column id="256.65536.0.0" name="a" loc="52..57" text="a int" />
                </table>
            </tables>
            <errors />
            <table-refs>
                <table-ref type="name/internal" id="256.65536.0" stmt="1" loc="88..111" text="dbname.sch..name.foo f" />
            </table-refs>
            <expressions>
                <expr id="0" type="colref/unresolved" stmt="1" loc="118..120" text="f." />
            </expressions>
        </editor>
        <cursor>
            <search text="f." index="2" />
        </cursor>
        <completions limit="3" strategy="COLUMN_REF" dot="true" symbol="OBJECT_EXT_TRAILING_DOT" relative="END_OF_SYMBOL" loc="119..120" text=".">
            <entry score="22" value="a" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="120..120" target_text="" qualified_loc="118..120" qualified_text="f.">
                <object score="2" type="column" id="256.65536.0.0" ctags="DOT_RESOLUTION_COLUMN" qualified="f.a" qualified_idx="1" prefer_qualified="true" />
            </entry>
        </completions>
    </completion-snapshot>
    <completion-snapshot name="dots_column_1" what="complete an alias with qualified table but default db">
        <editor id="0">
            <input>
                create table schemaname.foo(a int);
                select from schemaname.foo f where f.
            </input>
            <tables>
                <table id="256.65536.0" name="foo" loc="17..51" text="create tab..foo(a int)">
                    <column id="256.65536.0.0" name="a" loc="45..50" text="a int" />
                </table>
            </tables>
            <errors />
            <table-refs>
                <table-ref type="name/internal" id="256.65536.0" stmt="1" loc="81..97" text="schemaname.foo f" />
            </table-refs>
            <expressions>
                <expr id="0" type="colref/unresolved" stmt="1" loc="104..106" text="f." />
            </expressions>
        </editor>
        <cursor>
            <search text="f." index="2" />
        </cursor>
        <completions limit="3" strategy="COLUMN_REF" dot="true" symbol="OBJECT_EXT_TRAILING_DOT" relative="END_OF_SYMBOL" loc="105..106" text=".">
            <entry score="22" value="a" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="106..106" target_text="" qualified_loc="104..106" qualified_text="f.">
                <object score="2" type="column" id="256.65536.0.0" ctags="DOT_RESOLUTION_COLUMN" qualified="f.a" qualified_idx="1" prefer_qualified="true" />
            </entry>
        </completions>
    </completion-snapshot>
    <completion-snapshot name="dots_column_2" what="complete an alias with unqualified table">
        <editor id="0">
            <input>
                create table foo(a int);
                select from foo f where f.
            </input>
            <tables>
                <table id="256.65536.0" name="foo" loc="17..40" text="create tab..foo(a int)">
                    <column id="256.65536.0.0" name="a" loc="34..39" text="a int" />
                </table>
            </tables>
            <errors />
            <table-refs>
                <table-ref type="name/internal" id="256.65536.0" stmt="1" loc="70..75" text="foo f" />
            </table-refs>
            <expressions>
                <expr id="0" type="colref/unresolved" stmt="1" loc="82..84" text="f." />
            </expressions>
        </editor>
        <cursor>
            <search text="f." index="2" />
        </cursor>
        <completions limit="3" strategy="COLUMN_REF" dot="true" symbol="OBJECT_EXT_TRAILING_DOT" relative="END_OF_SYMBOL" loc="83..84" text=".">
            <entry score="22" value="a" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="84..84" target_text="" qualified_loc="82..84" qualified_text="f.">
                <object score="2" type="column" id="256.65536.0.0" ctags="DOT_RESOLUTION_COLUMN" qualified="f.a" qualified_idx="1" prefer_qualified="true" />
            </entry>
        </completions>
    </completion-snapshot>
    <completion-snapshot name="dots_multiple_columns_0" what="complete multiple columns">
        <editor id="0">
            <input>
                create table foo(a int, b int, c int);
                create table bar(d int, e int, f int);
                select from foo alias where alias.
            </input>
            <tables>
                <table id="256.65536.0" name="foo" loc="17..54" text="create tab..nt, c int)">
                    <column id="256.65536.0.0" name="a" loc="34..39" text="a int" />
                    <column id="256.65536.0.1" name="b" loc="41..46" text="b int" />
                    <column id="256.65536.0.2" name="c" loc="48..53" text="c int" />
                </table>
                <table id="256.65536.1" name="bar" loc="72..109" text="create tab..nt, f int)">
                    <column id="256.65536.1.0" name="d" loc="89..94" text="d int" />
                    <column id="256.65536.1.1" name="e" loc="96..101" text="e int" />
                    <column id="256.65536.1.2" name="f" loc="103..108" text="f int" />
                </table>
            </tables>
            <errors />
            <table-refs>
                <table-ref type="name/internal" id="256.65536.0" stmt="2" loc="139..148" text="foo alias" />
            </table-refs>
            <expressions>
                <expr id="0" type="colref/unresolved" stmt="2" loc="155..161" text="alias." />
            </expressions>
        </editor>
        <cursor>
            <search text="alias." index="6" />
        </cursor>
        <completions limit="3" strategy="COLUMN_REF" dot="true" symbol="OBJECT_EXT_TRAILING_DOT" relative="END_OF_SYMBOL" loc="160..161" text=".">
            <entry score="22" value="a" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="161..161" target_text="" qualified_loc="155..161" qualified_text="alias.">
                <object score="2" type="column" id="256.65536.0.0" ctags="DOT_RESOLUTION_COLUMN" qualified="alias.a" qualified_idx="1" prefer_qualified="true" />
            </entry>
            <entry score="22" value="b" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="161..161" target_text="" qualified_loc="155..161" qualified_text="alias.">
                <object score="2" type="column" id="256.65536.0.1" ctags="DOT_RESOLUTION_COLUMN" qualified="alias.b" qualified_idx="1" prefer_qualified="true" />
            </entry>
            <entry score="22" value="c" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="161..161" target_text="" qualified_loc="155..161" qualified_text="alias.">
                <object score="2" type="column" id="256.65536.0.2" ctags="DOT_RESOLUTION_COLUMN" qualified="alias.c" qualified_idx="1" prefer_qualified="true" />
            </entry>
        </completions>
    </completion-snapshot>
    <completion-snapshot name="dots_multiple_columns_1" what="complete multiple columns, multiple froms">
        <editor id="0">
            <input>
                create table foo(a int, b int, c int);
                create table bar(d int, e int, f int);
                select from foo f, bar b where f.
            </input>
            <tables>
                <table id="256.65536.0" name="foo" loc="17..54" text="create tab..nt, c int)">
                    <column id="256.65536.0.0" name="a" loc="34..39" text="a int" />
                    <column id="256.65536.0.1" name="b" loc="41..46" text="b int" />
                    <column id="256.65536.0.2" name="c" loc="48..53" text="c int" />
                </table>
                <table id="256.65536.1" name="bar" loc="72..109" text="create tab..nt, f int)">
                    <column id="256.65536.1.0" name="d" loc="89..94" text="d int" />
                    <column id="256.65536.1.1" name="e" loc="96..101" text="e int" />
                    <column id="256.65536.1.2" name="f" loc="103..108" text="f int" />
                </table>
            </tables>
            <errors />
            <table-refs>
                <table-ref type="name/internal" id="256.65536.0" stmt="2" loc="139..144" text="foo f" />
                <table-ref type="name/internal" id="256.65536.1" stmt="2" loc="146..151" text="bar b" />
            </table-refs>
            <expressions>
                <expr id="0" type="colref/internal" catalog="256.65536.1.2" stmt="2" loc="158..160" text="f." />
            </expressions>
        </editor>
        <cursor>
            <search text="f." index="2" />
        </cursor>
        <completions limit="3" strategy="COLUMN_REF" dot="true" symbol="OBJECT_EXT_TRAILING_DOT" relative="END_OF_SYMBOL" loc="159..160" text=".">
            <entry score="22" value="a" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="160..160" target_text="" qualified_loc="158..160" qualified_text="f.">
                <object score="2" type="column" id="256.65536.0.0" ctags="DOT_RESOLUTION_COLUMN" qualified="f.a" qualified_idx="1" prefer_qualified="true" />
            </entry>
            <entry score="22" value="b" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="160..160" target_text="" qualified_loc="158..160" qualified_text="f.">
                <object score="2" type="column" id="256.65536.0.1" ctags="DOT_RESOLUTION_COLUMN" qualified="f.b" qualified_idx="1" prefer_qualified="true" />
            </entry>
            <entry score="22" value="c" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="160..160" target_text="" qualified_loc="158..160" qualified_text="f.">
                <object score="2" type="column" id="256.65536.0.2" ctags="DOT_RESOLUTION_COLUMN" qualified="f.c" qualified_idx="1" prefer_qualified="true" />
            </entry>
        </completions>
    </completion-snapshot>
    <completion-snapshot name="dots_multiple_columns_2" what="complete multiple columns, multiple froms, other table">
        <editor id="0">
            <input>
                create table foo(a int, b int, c int);
                create table bar(d int, e int, f int);
                select from foo f, bar b where b.
            </input>
            <tables>
                <table id="256.65536.0" name="foo" loc="17..54" text="create tab..nt, c int)">
                    <column id="256.65536.0.0" name="a" loc="34..39" text="a int" />
                    <column id="256.65536.0.1" name="b" loc="41..46" text="b int" />
                    <column id="256.65536.0.2" name="c" loc="48..53" text="c int" />
                </table>
                <table id="256.65536.1" name="bar" loc="72..109" text="create tab..nt, f int)">
                    <column id="256.65536.1.0" name="d" loc="89..94" text="d int" />
                    <column id="256.65536.1.1" name="e" loc="96..101" text="e int" />
                    <column id="256.65536.1.2" name="f" loc="103..108" text="f int" />
                </table>
            </tables>
            <errors />
            <table-refs>
                <table-ref type="name/internal" id="256.65536.0" stmt="2" loc="139..144" text="foo f" />
                <table-ref type="name/internal" id="256.65536.1" stmt="2" loc="146..151" text="bar b" />
            </table-refs>
            <expressions>
                <expr id="0" type="colref/internal" catalog="256.65536.0.1" stmt="2" loc="158..160" text="b." />
            </expressions>
        </editor>
        <cursor>
            <search text="b." index="2" />
        </cursor>
        <completions limit="3" strategy="COLUMN_REF" dot="true" symbol="OBJECT_EXT_TRAILING_DOT" relative="END_OF_SYMBOL" loc="159..160" text=".">
            <entry score="22" value="d" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="160..160" target_text="" qualified_loc="158..160" qualified_text="b.">
                <object score="2" type="column" id="256.65536.1.0" ctags="DOT_RESOLUTION_COLUMN" qualified="b.d" qualified_idx="1" prefer_qualified="true" />
            </entry>
            <entry score="22" value="e" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="160..160" target_text="" qualified_loc="158..160" qualified_text="b.">
                <object score="2" type="column" id="256.65536.1.1" ctags="DOT_RESOLUTION_COLUMN" qualified="b.e" qualified_idx="1" prefer_qualified="true" />
            </entry>
            <entry score="22" value="f" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="160..160" target_text="" qualified_loc="158..160" qualified_text="b.">
                <object score="2" type="column" id="256.65536.1.2" ctags="DOT_RESOLUTION_COLUMN" qualified="b.f" qualified_idx="1" prefer_qualified="true" />
            </entry>
        </completions>
    </completion-snapshot>
    <completion-snapshot name="dots_limit" what="more table columns than limit">
        <editor id="0">
            <input>
                create table foo(a int, b int, c int, d int, e int);
                select from foo f where f.
            </input>
            <tables>
                <table id="256.65536.0" name="foo" loc="17..68" text="create tab..nt, e int)">
                    <column id="256.65536.0.0" name="a" loc="34..39" text="a int" />
                    <column id="256.65536.0.1" name="b" loc="41..46" text="b int" />
                    <column id="256.65536.0.2" name="c" loc="48..53" text="c int" />
                    <column id="256.65536.0.3" name="d" loc="55..60" text="d int" />
                    <column id="256.65536.0.4" name="e" loc="62..67" text="e int" />
                </table>
            </tables>
            <errors />
            <table-refs>
                <table-ref type="name/internal" id="256.65536.0" stmt="1" loc="98..103" text="foo f" />
            </table-refs>
            <expressions>
                <expr id="0" type="colref/unresolved" stmt="1" loc="110..112" text="f." />
            </expressions>
        </editor>
        <cursor>
            <search text="f." index="2" />
        </cursor>
        <completions limit="3" strategy="COLUMN_REF" dot="true" symbol="OBJECT_EXT_TRAILING_DOT" relative="END_OF_SYMBOL" loc="111..112" text=".">
            <entry score="22" value="a" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="112..112" target_text="" qualified_loc="110..112" qualified_text="f.">
                <object score="2" type="column" id="256.65536.0.0" ctags="DOT_RESOLUTION_COLUMN" qualified="f.a" qualified_idx="1" prefer_qualified="true" />
            </entry>
            <entry score="22" value="b" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="112..112" target_text="" qualified_loc="110..112" qualified_text="f.">
                <object score="2" type="column" id="256.65536.0.1" ctags="DOT_RESOLUTION_COLUMN" qualified="f.b" qualified_idx="1" prefer_qualified="true" />
            </entry>
            <entry score="22" value="c" ntags="COLUMN_NAME" ctags="DOT_RESOLUTION_COLUMN" target_loc="112..112" target_text="" qualified_loc="110..112" qualified_text="f.">
                <object score="2" type="column" id="256.65536.0.2" ctags="DOT_RESOLUTION_COLUMN" qualified="f.c" qualified_idx="1" prefer_qualified="true" />
            </entry>
        </completions>
    </completion-snapshot>
    <completion-snapshot name="dots_score_column_prefix_0" what="column names with matching prefix should score higher">
        <editor id="0">
            <input>
                create table foo(apple int, juice int);
                select from foo f where f.ap
            </input>
            <tables>
                <table id="256.65536.0" name="foo" loc="17..55" text="create tab..juice int)">
                    <column id="256.65536.0.0" name="apple" loc="34..43" text="apple int" />
                    <column id="256.65536.0.1" name="juice" loc="45..54" text="juice int" />
                </table>
            </tables>
            <errors />
            <table-refs>
                <table-ref type="name/internal" id="256.65536.0" stmt="1" loc="85..90" text="foo f" />
            </table-refs>
            <expressions>
                <expr id="0" type="colref/unresolved" stmt="1" loc="97..101" text="f.ap" />
            </expressions>
        </editor>
        <cursor>
            <search text="f.ap" index="4" />
        </cursor>
        <completions limit="3" strategy="COLUMN_REF" symbol="NAME" relative="END_OF_SYMBOL" loc="99..101" text="ap">
            <entry score="55" value="apple" ntags="COLUMN_NAME" ctags="NAME_INDEX|PREFIX_MATCH|SUBSTRING_MATCH" target_loc="99..101" target_text="ap" qualified_loc="99..101" qualified_text="ap">
                <object score="35" type="column" id="256.65536.0.0" ctags="NAME_INDEX|PREFIX_MATCH|SUBSTRING_MATCH" qualified="f.apple" qualified_idx="1" prefer_qualified="true" />
            </entry>
            <entry score="30" value="escape" ctags="KEYWORD_DEFAULT|EXPECTED_PARSER_SYMBOL|SUBSTRING_MATCH" target_loc="99..101" target_text="ap" qualified_loc="99..101" qualified_text="ap" />
            <entry score="30" value="mapping" ctags="KEYWORD_DEFAULT|EXPECTED_PARSER_SYMBOL|SUBSTRING_MATCH" target_loc="99..101" target_text="ap" qualified_loc="99..101" qualified_text="ap" />
        </completions>
    </completion-snapshot>
</completion-snapshots>
