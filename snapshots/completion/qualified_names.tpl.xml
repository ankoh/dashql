<completion-snapshots>
    <!-- Ambiguous column attr from two tables in same schema -->
    <completion-snapshot name="ambiguous_in_schema">
        <catalog>
            <script>
                <input>
                    create table "AmbiguousAttribute1"(attr1 int);
                    create table "AmbiguousAttribute2"(attr1 int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select * from "AmbiguousAttribute1", "AmbiguousAttribute2" where attr
            </input>
        </editor>
        <cursor>
            <search text=" attr" index="5" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- Unambiguous: only one table in scope has attr -->
    <completion-snapshot name="ambiguous_in_schema_but_not_in_scope">
        <catalog>
            <script>
                <input>
                    create table "AmbiguousAttribute1"(attr1 int);
                    create table "AmbiguousAttribute2"(attr1 int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select * from "AmbiguousAttribute1" where attr
            </input>
        </editor>
        <cursor>
            <search text=" attr" index="5" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- Ambiguous column across schemas -->
    <completion-snapshot name="ambiguous_cross_schema">
        <catalog>
            <script>
                <input>
                    create table db0.schema0."AmbiguousCrossSchema"(attr1 int);
                    create table db0.schema1."AmbiguousCrossSchema"(attr1 int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select * from schema0."AmbiguousAttribute1", schema1."AmbiguousAttribute2" where attr
            </input>
        </editor>
        <cursor>
            <search text=" attr" index="5" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- Ambiguous column across databases -->
    <completion-snapshot name="ambiguous_cross_db">
        <catalog>
            <script>
                <input>
                    create table db0.schema0."AmbiguousAttribute1"(attr1 int);
                    create table db1.schema0."AmbiguousAttribute2"(attr1 int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select * from db0.schema0."AmbiguousAttribute1", db1.schema0."AmbiguousAttribute2" where attr
            </input>
        </editor>
        <cursor>
            <search text=" attr" index="5" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- Both tables aliased: ambiguous attr completion -->
    <completion-snapshot name="both_aliased">
        <catalog>
            <script>
                <input>
                    create table "AmbiguousAttribute1"(attr1 int);
                    create table "AmbiguousAttribute2"(attr1 int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select * from "AmbiguousAttribute1" a, "AmbiguousAttribute2" b where attr
            </input>
        </editor>
        <cursor>
            <search text=" attr" index="5" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- One table aliased, one not: ambiguous attr -->
    <completion-snapshot name="one_not_aliased">
        <catalog>
            <script>
                <input>
                    create table "AmbiguousAttribute1"(attr1 int);
                    create table "AmbiguousAttribute2"(attr1 int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select * from "AmbiguousAttribute1" a, "AmbiguousAttribute2" where attr
            </input>
        </editor>
        <cursor>
            <search text=" attr" index="5" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- Completion after "from foo bar": don't suggest table.column for alias -->
    <completion-snapshot name="dont_qualify_table_aliases">
        <catalog>
            <script>
                <input>
                    create table foo.bar(attr int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select * from foo bar
            </input>
        </editor>
        <cursor>
            <search text=" bar" index="4" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
    <!-- Completion after "from foo.bar limit": limit keyword vs column -->
    <completion-snapshot name="dont_qualify_table_aliases_2">
        <catalog>
            <script>
                <input>
                    create table foo.bar(limit int);
                </input>
            </script>
        </catalog>
        <editor>
            <input>
                select * from foo.bar limit
            </input>
        </editor>
        <cursor>
            <search text=" limit" index="6" />
        </cursor>
        <completions limit="3" />
    </completion-snapshot>
</completion-snapshots>
