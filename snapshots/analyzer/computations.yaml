analyzer-snapshots:

  - name: computation_regexp_extract
    script:
      input: select regexp_extract(a, '[0-9a-zA-Z]+\.[0-9a-zA-Z]+\.([0-9a-zA-Z]+)', 1) from foo
      catalog-id: 0
      errors: []
      table-refs:
        - type: name/unresolved
          statement-id: 0
          text: "foo"
      expressions:
        - expression-idx: 0
          type: colref/unresolved
          statement-id: 0
          text: "a"
        - expression-idx: 1
          type: function
          name: regexp_extract
          computation: 0
          statement-id: 0
          text: "regexp_ext..-Z]+)', 1)"
        - expression-idx: 2
          type: literal/string
          is-const: true
          statement-id: 0
          text: "'[0-9a-zA-..a-zA-Z]+)'"
        - expression-idx: 3
          type: literal/integer
          is-const: true
          statement-id: 0
          text: "1"
      constants:
        - expression: 2
          text: "'[0-9a-zA-..a-zA-Z]+)'"
        - expression: 3
          text: "1"
      column-computations:
        - expression: 1
          snippet:
            signature-template: 5606800037095841550
            signature-raw: 506185710814489970
            text: 'regexp_extract(a, ''[0-9a-zA-Z]+\.[0-9a-zA-Z]+\.([0-9a-zA-Z]+)'', 1)'
            ast:
              ast-nodes: 12
              ast-bytes: 288
              ast:
                type: OBJECT_SQL_FUNCTION_EXPRESSION
                text: "regexp_ext..-Z]+)', 1)"
                children:
                  - key: SQL_FUNCTION_NAME
                    type: ARRAY
                    text: "regexp_extract"
                    children:
                      - type: NAME
                        text: "regexp_extract"
                  - key: SQL_FUNCTION_ARGUMENTS
                    type: ARRAY
                    text: "a, '[0-9a-..A-Z]+)', 1"
                    children:
                      - type: OBJECT_SQL_FUNCTION_ARG
                        text: "a"
                        children:
                          - key: SQL_FUNCTION_ARG_VALUE
                            type: OBJECT_SQL_COLUMN_REF
                            text: "a"
                            children:
                              - key: SQL_COLUMN_REF_PATH
                                type: ARRAY
                                text: "a"
                                children:
                                  - type: NAME
                                    text: "a"
                      - type: OBJECT_SQL_FUNCTION_ARG
                        text: "'[0-9a-zA-..a-zA-Z]+)'"
                        children:
                          - key: SQL_FUNCTION_ARG_VALUE
                            type: LITERAL_STRING
                            text: "'[0-9a-zA-..a-zA-Z]+)'"
                      - type: OBJECT_SQL_FUNCTION_ARG
                        text: "1"
                        children:
                          - key: SQL_FUNCTION_ARG_VALUE
                            type: LITERAL_INTEGER
                            text: "1"
